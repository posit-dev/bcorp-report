---
title: "Posit Benefit Corporation"
subtitle: 2024 Annual Report
quarto-required: 1.6.*
fig-width: 7
fig-height: 3
format: 
  typst:
    font-paths: assets/fonts
    mainfont: Open Sans
    template-partials:
      - typst/typst-template.typ
      - typst/typst-show.typ
    filters: 
      - typst/layout.lua
      - typst/mark.lua
  gfm: 
    shift-heading-level-by: 1
    fig-dpi: 300
  html: 
    shift-heading-level-by: 1
    minimal: true
shortcodes:
  - typst/colbreak.lua
filters:
  - typst/ignore-layout.lua
keep-typ: true
execute:
  echo: false
---

```{r}
#| label: setup
#| include: false
library(ggplot2)
library(tidyverse)
library(here)
library(thematic)
library(ragg)
library(showtext)

posit_colors <- list(
  blue = "#447099",
  grey = "#404041",
  orange = "#EE6331",
  dark_blue_2 = "#213D4F",
  dark_blue_3 = "#17212B",
  light_blue_1 = "#D1DBE5",
  light_blue_2 = "#A2B8CB"
)

thematic_on(bg = "white", fg = posit_colors$grey, accent = posit_colors$blue,
  font = "Open Sans")

pydf <- read.csv(here("data", "pypi_stats.csv"), col.names = c("date", "downloads", "pkg"))
rdf <- read.csv(here("data","rpkgs.csv"), col.names = c("date", "downloads", "pkg"))
tidyvdf <- read.csv(here("data","tidyverse_pkgs.csv"), col.names = c("date", "downloads", "pkg"))
tidymdf <- read.csv(here("data", "tidymodels_pkgs.csv"), col.names = c("date", "downloads", "pkg"))
rlibdf <- read.csv(here("data","rlib_pkgs.csv"), col.names = c("date", "downloads", "pkg"))
rcondf <- read.csv(here("data","rcon_pkgs.csv"), col.names = c("date", "downloads", "pkg"))

rstudiodf <- read.csv(here("data","rstudio_os_dls.csv"), col.names = c("date", "downloads"))
rstudiodf$pkg <- "RStudio"

quarto_rstudio_dls <- read.csv(here("data", "quarto_rstudio_dls.csv"), col.names = c("date", "downloads"))
quarto_rstudio_dls$pkg <- "quarto"

quarto_gh_dls <- read.csv(here("data", "quarto_gh_downloads.csv"), col.names = c("date", "name", "downloads"))
quarto_gh_dls$date <- as.character(as.Date(quarto_gh_dls$date))

singlepltfunc <- function(df, package) { 
  return(
    df %>% 
    filter(pkg == package) %>%
    ggplot(aes(x=as.Date(date), y=cumsum(as.numeric(downloads)))) + 
    geom_line(color = posit_colors$blue, linewidth = 0.75) +  
    scale_x_date(labels=scales::label_date_short()) + 
    scale_y_continuous(
      labels = scales::label_number(scale_cut = scales::cut_short_scale())
    ) +
    xlab("") + 
    ylab("Cumulative Downloads") + 
    ggtitle(package)+
    theme(panel.background = element_rect(fill = "#EDF0F5"),
      plot.margin = margin(5.5, 8.5, 5.5, 5.5))
  )
}

```

::: {.page-blue}

```{=typst}
#counter(page).update(1)
```

# A Message from our CEO 

::: {.cols-2}

{{< include sections/01-message-from.qmd >}}

:::

:::

# Introduction 

::: {.cols-2}

{{< include sections/02-introduction.qmd >}}

::: 

```{=typst}
#place(bottom, dy: 1.25in,
  align(center, 
    image("assets/images/1-1547.jpg", 
      width: 100% + 2.5in, fit: "cover")
  )
)
```

{{< pagebreak >}}

# Posit's Charter and Statement of Public Benefit

{{< include sections/03-charter.qmd >}}

{{< pagebreak >}}

# Posit's Open Source Development Projects

{{< include sections/04-open-source.qmd >}}

::: {.page-banner fill="posit_colors.blue" image_paths='("assets/images/BLab_B_Impact_Assessment-white.png",)' image_height="75%"}

#  B LabÂ® Impact Assessment Results

::: {.cols-2}

{{< include sections/05-blab-impact-results.qmd >}}

:::

::: 

{{< include sections/06-score-improvements.qmd >}}

```{=typst}
#v(1em)
```

::: {.cols-2}

{{< include sections/07-impact-areas.qmd >}}

:::

```{=typst}
#place(bottom, dy: 1.25in,
  align(center, 
    image("assets/images/Conf-2023-Crowd.jpg", 
      width: 100% + 2.5in, fit: "cover")
  )
)
```

```{=typst}
#back_page(repo: "https://github.com/posit-dev/bcorp-report/")[
  
]
```
